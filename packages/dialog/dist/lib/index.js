"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),C={class:"dialog-header"},k={class:"dialog-title"},p={class:"dialog-body"},h={class:"dialog-footer"},r=e.defineComponent({__name:"Dialog",props:{modelValue:Boolean,title:{type:String,default:"提示"},width:{type:String,default:"400px"},showClose:{type:Boolean,default:!0},confirmText:{type:String,default:"确定"},cancelText:{type:String,default:"取消"},closeOnClickMask:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},beforeClose:Function,zIndex:Number,lockScroll:{type:Boolean,default:!0}},emits:["update:modelValue","close","confirm","cancel"],setup(n,{emit:a}){const o=n,c=a,i=e.ref(o.modelValue);e.watch(()=>o.modelValue,l=>i.value=l);function t(){o.beforeClose?o.beforeClose(d):d()}function d(){i.value=!1,c("update:modelValue",!1),c("close")}function m(){c("confirm"),t()}function g(){c("cancel"),t()}function y(){o.closeOnClickMask&&t()}function s(l){l.key==="Escape"&&o.closeOnPressEscape&&t()}return e.onMounted(()=>document.addEventListener("keydown",s)),e.onBeforeUnmount(()=>document.removeEventListener("keydown",s)),e.watch(i,l=>{o.lockScroll&&(document.body.style.overflow=l?"hidden":"")}),(l,u)=>(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.createVNode(e.Transition,{name:"dialog-fade"},{default:e.withCtx(()=>[i.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dialog-overlay",onClick:e.withModifiers(y,["self"])},[e.createElementVNode("div",{class:"dialog",style:e.normalizeStyle({width:n.width}),role:"dialog","aria-modal":"true"},[e.createElementVNode("header",C,[e.renderSlot(l.$slots,"header",{},()=>[e.createElementVNode("span",k,e.toDisplayString(n.title),1)]),n.showClose?(e.openBlock(),e.createElementBlock("button",{key:0,class:"dialog-close",onClick:t},"×")):e.createCommentVNode("",!0)]),e.createElementVNode("section",p,[e.renderSlot(l.$slots,"default",{},()=>[u[0]||(u[0]=e.createTextVNode("默认内容",-1))])]),e.createElementVNode("footer",h,[e.renderSlot(l.$slots,"footer",{},()=>[e.createElementVNode("button",{class:"dialog-btn cancel",onClick:g},e.toDisplayString(n.cancelText),1),e.createElementVNode("button",{class:"dialog-btn confirm",onClick:m},e.toDisplayString(n.confirmText),1)])])],4)])):e.createCommentVNode("",!0)]),_:3})]))}});function f(n){const a=document.createElement("div");return document.body.appendChild(a),new Promise((o,c)=>{const i=e.createVNode(r,{...n,modelValue:!0,onConfirm:()=>{o(!0),t()},onCancel:()=>{c(!1),t()},"onUpdate:modelValue":d=>{d||t()}});function t(){e.render(null,a),a.remove()}e.render(i,a)})}const V=f;exports.CreateDialog=V;exports.Dialog=r;exports.createDialog=f;exports.default=r;
