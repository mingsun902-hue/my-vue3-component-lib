"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const t=require("vue"),f=t.defineComponent({name:"Message",__name:"Message",props:{message:{},type:{},duration:{},promise:{},onClose:{type:Function}},setup(e,{expose:o}){const s=t.ref(0),n=t.ref(0),c=t.ref(null);function i(l){s.value=l}o({setOffset:i,height:n});const r=e;return t.onMounted(()=>{r.duration!==0&&setTimeout(()=>{r.onClose?.()},r.duration||3e3),c.value&&(n.value=c.value.offsetHeight)}),(l,g)=>(t.openBlock(),t.createElementBlock("div",{ref_key:"el",ref:c,class:t.normalizeClass(["message",e.type]),style:t.normalizeStyle({top:`${s.value}px`})},t.toDisplayString(e.message),7))}}),d=(e,o)=>{const s=e.__vccOpts||e;for(const[n,c]of o)s[n]=c;return s},p=d(f,[["__scopeId","data-v-a0911131"]]),a=[];function m(e){const o=document.createElement("div");document.body.appendChild(o);const s=()=>{t.render(null,o),document.body.removeChild(o),a.splice(a.indexOf(n),1),u(),e.onClose?.()},n=t.createVNode(p,{...e,onClose:s});t.render(n,o),a.push(n),u(),e.promise&&e.promise.then(c=>{Object.assign(n.component.props,c)})}function u(){let e=20;a.forEach(o=>{o.component?.exposed?.setOffset(e),e+=(o.component?.exposed?.height.value||0)+10})}exports.default=m;
