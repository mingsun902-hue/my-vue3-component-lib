"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),y={class:"dialog-header"},k={class:"dialog-title"},g={class:"dialog-body"},h={class:"dialog-footer"},p=e.defineComponent({__name:"Dialog",props:{modelValue:Boolean,title:{type:String,default:"提示"},width:{type:String,default:"400px"},showClose:{type:Boolean,default:!0},confirmText:{type:String,default:"确定"},cancelText:{type:String,default:"取消"},closeOnClickMask:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},beforeClose:Function,zIndex:Number,lockScroll:{type:Boolean,default:!0}},emits:["update:modelValue","close","confirm","cancel"],setup(l,{emit:r}){const t=l,a=r,c=e.ref(t.modelValue);e.watch(()=>t.modelValue,o=>c.value=o);function n(){t.beforeClose?t.beforeClose(s):s()}function s(){c.value=!1,a("update:modelValue",!1),a("close")}function u(){a("confirm"),n()}function f(){a("cancel"),n()}function m(){t.closeOnClickMask&&n()}function i(o){o.key==="Escape"&&t.closeOnPressEscape&&n()}return e.onMounted(()=>document.addEventListener("keydown",i)),e.onBeforeUnmount(()=>document.removeEventListener("keydown",i)),e.watch(c,o=>{t.lockScroll&&(document.body.style.overflow=o?"hidden":"")}),(o,d)=>(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.createVNode(e.Transition,{name:"dialog-fade"},{default:e.withCtx(()=>[c.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dialog-overlay",onClick:e.withModifiers(m,["self"])},[e.createElementVNode("div",{class:"dialog",style:e.normalizeStyle({width:l.width}),role:"dialog","aria-modal":"true"},[e.createElementVNode("header",y,[e.renderSlot(o.$slots,"header",{},()=>[e.createElementVNode("span",k,e.toDisplayString(l.title),1)]),l.showClose?(e.openBlock(),e.createElementBlock("button",{key:0,class:"dialog-close",onClick:n},"×")):e.createCommentVNode("",!0)]),e.createElementVNode("section",g,[e.renderSlot(o.$slots,"default",{},()=>[d[0]||(d[0]=e.createTextVNode("默认内容",-1))])]),e.createElementVNode("footer",h,[e.renderSlot(o.$slots,"footer",{},()=>[e.createElementVNode("button",{class:"dialog-btn cancel",onClick:f},e.toDisplayString(l.cancelText),1),e.createElementVNode("button",{class:"dialog-btn confirm",onClick:u},e.toDisplayString(l.confirmText),1)])])],4)])):e.createCommentVNode("",!0)]),_:3})]))}});exports.default=p;
